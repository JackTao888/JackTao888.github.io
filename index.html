<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Ruijie Tao ‚Äì coder</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Webfont -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <!-- MATRIX BACKGROUND -->
  <canvas id="matrixCanvas"></canvas>
  <div class="matrix-blur"></div>
  
  <canvas id="hero-canvas"></canvas>

  <div class="page">
    <!-- TOP NAV -->
    <header class="nav">
      <div class="nav-left">
        <div class="nav-brand"> Ruijie Tao</div>
      </div>
      <nav class="nav-right">
        <a href="#about">About</a>
        <a href="#work">Work</a>
        <a href="#publications">Publications</a>
        <a href="#contact">Contact</a>
      </nav>
    </header>

    <!-- HERO -->
    <main class="hero">
      <section class="hero-text hero-parallax">
        <div class="label">Creative Developer</div>
        <h1 class="hero-title">
          Contributing to next <span style="white-space:nowrap;">GenAI.</span>
        </h1>
        <p class="hero-subtitle">
          Computer Science @JHU | Applied Math @UCSB | Focus on NLP & LLM | Software Development.
        </p>

        <div class="hero-meta">
          <div>
            <span class="label-small">Based in</span>
            <span>Baltimore, MD üåç</span>
          </div>
          <div>
            <span class="label-small">Available for</span>
            <span>Internships & fulltime & collaborations</span>
          </div>
          <div>
            <span class="label-small">Focus</span>
            <span>NLP, LLM, GenAI, Full Stack</span>
          </div>
        </div>
      </section>

      <aside class="hero-aside hero-parallax">
        <div class="badge">PORTFOLIO ¬∑ 2025</div>
        <div class="binary">
          1 0 0 1 0 0 1 1 0 1 1 1 1 1 0<br />
          1 0 1 0 0 1 1 0 1 0 0 0  1 0 1<br />
          0 0 1 1 1 0 1 1 1 1 1 0 0 1 0<br />
          1 0 1 0 0 1 1 0 1 0 0 0 0 0 1<br />
          1 0 1 0 0 1 1 0 1 0 0 0 1 0 1
        </div>
        <div class="since">
          Coding since 2019<br />
          
        </div>
      </aside>
    </main>

    <!-- BOTTOM BAR -->
    <footer class="footer">
        
      <div class="footer-left">
        <span>Built with HTML, CSS, and vanilla JS on GitHub Pages.</span>
      </div>
      <div class="footer-right">
        <a href="mailto:taoruijie666 at gmail dot com" id="contact">Email</a>
        <a href="https://github.com/JackTao888" target="_blank" rel="noreferrer">GitHub</a>
        <a href="https://linkedin.com/in/ruijie-tao" target="_blank" rel="noreferrer">LinkedIn</a>
      </div>
    </footer>
  </div>

  <!-- SCROLLABLE CONTENT SECTION -->
  <section class="scroll-section">
    <div class="text-window">
      <h2>About</h2>
      <p>
        I'm a creative developer passionate about pushing the boundaries of technology and design. 
        My work spans across computer science, applied mathematics, and the exciting realm of 
        next-generation AI systems.
      </p>
      <p>
        With a focus on NLP and Large Language Models, I explore the intersection of creativity 
        and computation, building software that bridges the gap between human intuition and 
        machine intelligence.
      </p>
      <p>
        Currently pursuing Computer Science at JHU and Applied Math at UCSB, I'm constantly 
        learning and contributing to the future of AI-driven solutions.
      </p>
    </div>
  </section>

  <!-- THIRD PAGE SECTION -->
  <section class="page-section">
    <div class="page-content-layout">
      <!-- Left side: Icon/Graph -->
      <div class="icon-container">
        <img src="empty_recent_v3.webp" alt="Document history icon" class="graph-icon" />
      </div>

      <!-- Right side: 3 text blocks with connecting lines -->
      <div class="text-blocks-container">
        <div class="text-block-item">
          <div class="text-block">
            <h3>Document History</h3>
            <p>Track and manage versions with comprehensive timeline features.</p>
          </div>
        </div>
        <div class="connector-line"></div>
        <div class="text-block-item">
          <div class="text-block">
            <h3>Version Control</h3>
            <p>Efficient system for managing document revisions and changes.</p>
          </div>
        </div>
        <div class="connector-line"></div>
        <div class="text-block-item">
          <div class="text-block">
            <h3>Time Tracking</h3>
            <p>Monitor document lifecycle and modification history over time.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- FOURTH PAGE SECTION - Heart Echo Project -->
  <section class="page-section">
    <div class="page-content-layout">
      <!-- Left side: Text block with title, motivation, and intro -->
      <div class="project-text-container">
        <div class="project-text-block">
          <h2>Heart Echo</h2>
          <h3>AI-Powered Anonymous Mental Health Companion</h3>
          
          <div class="project-section">
            <h4>Introduction</h4>
            <p>
              Mental health is a critical global issue affecting millions. With over 280 million people worldwide 
              suffering from depression and limited access to mental health resources, there's an urgent need for 
              accessible, anonymous support. 
            </p>
            <p>
                Heart Echo is an innovative AI-powered mental health companion that leverages natural language processing 
                to provide anonymous emotional support. Built with modern web technologies including React.js for the 
                frontend and Flask for backend services, the platform ensures secure, scalable, and empathetic 
                interactions. 
            </p>
          </div>

          <div class="project-links">
            <a href="https://github.com/JackTao888/H4H2025-HeartEcho" target="_blank" rel="noreferrer" class="project-link">
              View on GitHub ‚Üí
            </a>
          </div>
        </div>

        <!-- Tech Stack as independent text block -->
        <div class="project-text-block tech-stack-block">
          <h4>Tech Stack</h4>
          <div class="tech-stack-grid">
            <div class="tech-item">
              <span class="tech-category">Frontend:</span>
              <span class="tech-tools">React.js, JavaScript, HTML5, CSS3, Material-UI</span>
            </div>
            <div class="tech-item">
              <span class="tech-category">Backend:</span>
              <span class="tech-tools">Flask, Python, RESTful API, JWT Authentication</span>
            </div>
            <div class="tech-item">
              <span class="tech-category">Database:</span>
              <span class="tech-tools">PostgreSQL, SQLAlchemy ORM, Redis (Caching)</span>
            </div>
            <div class="tech-item">
              <span class="tech-category">Security:</span>
              <span class="tech-tools">HTTPS, Data Encryption, Anonymous User Sessions</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Right side: Project structure diagram -->
      <div class="project-diagram-container">
        <div class="project-diagram">
          <svg width="100%" height="100%" viewBox="0 0 1000 800" xmlns="http://www.w3.org/2000/svg">
            <defs>
              <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" style="stop-color:#D4AF37;stop-opacity:0.8" />
                <stop offset="100%" style="stop-color:#C9A961;stop-opacity:0.8" />
              </linearGradient>
              <linearGradient id="grad2" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" style="stop-color:#808080;stop-opacity:0.8" />
                <stop offset="100%" style="stop-color:#A0A0A0;stop-opacity:0.8" />
              </linearGradient>
              <filter id="glow">
                <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
                <feMerge>
                  <feMergeNode in="coloredBlur"/>
                  <feMergeNode in="SourceGraphic"/>
                </feMerge>
              </filter>
              <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="5" refY="3" orient="auto">
                <polygon points="0 0, 10 3, 0 6" fill="rgba(255,255,255,0.6)" />
              </marker>
            </defs>

            <!-- User Interface Layer -->
            <rect x="325" y="20" width="350" height="100" rx="12" fill="url(#grad1)" filter="url(#glow)" opacity="0.9"/>
            <text x="500" y="50" text-anchor="middle" fill="#f5f5f5" font-size="18" font-weight="700">User Interface</text>
            <text x="500" y="75" text-anchor="middle" fill="#f5f5f5" font-size="13" opacity="0.9">React.js Frontend</text>
            <text x="500" y="95" text-anchor="middle" fill="#f5f5f5" font-size="11" opacity="0.8">Material-UI Components</text>
            <text x="500" y="112" text-anchor="middle" fill="#f5f5f5" font-size="11" opacity="0.8">Responsive Design</text>

            <!-- Authentication Service -->
            <rect x="50" y="140" width="200" height="90" rx="12" fill="url(#grad2)" filter="url(#glow)" opacity="0.9"/>
            <text x="150" y="165" text-anchor="middle" fill="#f5f5f5" font-size="14" font-weight="700">Authentication</text>
            <text x="150" y="185" text-anchor="middle" fill="#f5f5f5" font-size="12" opacity="0.9">JWT Tokens</text>
            <text x="150" y="202" text-anchor="middle" fill="#f5f5f5" font-size="11" opacity="0.8">Anonymous Sessions</text>
            <text x="150" y="218" text-anchor="middle" fill="#f5f5f5" font-size="11" opacity="0.8">Secure Login</text>

            <!-- Arrow from UI to Auth -->
            <path d="M 400 70 L 250 185" stroke="rgba(255,255,255,0.4)" stroke-width="2" marker-end="url(#arrowhead)"/>

            <!-- Backend Services -->
            <rect x="300" y="140" width="300" height="90" rx="12" fill="url(#grad1)" filter="url(#glow)" opacity="0.9"/>
            <text x="450" y="165" text-anchor="middle" fill="#f5f5f5" font-size="18" font-weight="700">Backend Services</text>
            <text x="450" y="185" text-anchor="middle" fill="#f5f5f5" font-size="13" opacity="0.9">Flask RESTful API</text>
            <text x="450" y="202" text-anchor="middle" fill="#f5f5f5" font-size="11" opacity="0.8">Request Routing &amp; Processing</text>
            <text x="450" y="218" text-anchor="middle" fill="#f5f5f5" font-size="11" opacity="0.8">Business Logic Layer</text>

            <!-- Caching Layer -->
            <rect x="650" y="140" width="200" height="90" rx="12" fill="url(#grad2)" filter="url(#glow)" opacity="0.9"/>
            <text x="750" y="165" text-anchor="middle" fill="#f5f5f5" font-size="14" font-weight="700">Cache Layer</text>
            <text x="750" y="185" text-anchor="middle" fill="#f5f5f5" font-size="12" opacity="0.9">Redis</text>
            <text x="750" y="202" text-anchor="middle" fill="#f5f5f5" font-size="11" opacity="0.8">Session Storage</text>
            <text x="750" y="218" text-anchor="middle" fill="#f5f5f5" font-size="11" opacity="0.8">Performance Boost</text>

            <!-- Arrows from UI to Backend -->
            <path d="M 500 120 L 450 140" stroke="rgba(255,255,255,0.4)" stroke-width="2" marker-end="url(#arrowhead)"/>
            <path d="M 600 70 L 750 185" stroke="rgba(255,255,255,0.4)" stroke-width="2" marker-end="url(#arrowhead)"/>

            <!-- Database -->
            <rect x="50" y="260" width="220" height="110" rx="12" fill="url(#grad2)" filter="url(#glow)" opacity="0.9"/>
            <text x="160" y="285" text-anchor="middle" fill="#f5f5f5" font-size="16" font-weight="700">Database</text>
            <text x="160" y="305" text-anchor="middle" fill="#f5f5f5" font-size="13" opacity="0.9">PostgreSQL</text>
            <text x="160" y="322" text-anchor="middle" fill="#f5f5f5" font-size="11" opacity="0.8">User Data Storage</text>
            <text x="160" y="338" text-anchor="middle" fill="#f5f5f5" font-size="11" opacity="0.8">Conversation History</text>
            <text x="160" y="354" text-anchor="middle" fill="#f5f5f5" font-size="11" opacity="0.8">SQLAlchemy ORM</text>

            <!-- AI Model -->
            <rect x="350" y="260" width="250" height="110" rx="12" fill="url(#grad1)" filter="url(#glow)" opacity="0.9"/>
            <text x="475" y="285" text-anchor="middle" fill="#f5f5f5" font-size="16" font-weight="700">AI Model</text>
            <text x="475" y="305" text-anchor="middle" fill="#f5f5f5" font-size="13" opacity="0.9">NLP Engine</text>
            <text x="475" y="322" text-anchor="middle" fill="#f5f5f5" font-size="11" opacity="0.8">Transformers Model</text>
            <text x="475" y="338" text-anchor="middle" fill="#f5f5f5" font-size="11" opacity="0.8">OpenAI API Integration</text>
            <text x="475" y="354" text-anchor="middle" fill="#f5f5f5" font-size="11" opacity="0.8">Empathetic Responses</text>

            <!-- Security Layer -->
            <rect x="650" y="260" width="220" height="110" rx="12" fill="url(#grad2)" filter="url(#glow)" opacity="0.9"/>
            <text x="760" y="285" text-anchor="middle" fill="#f5f5f5" font-size="16" font-weight="700">Security</text>
            <text x="760" y="305" text-anchor="middle" fill="#f5f5f5" font-size="13" opacity="0.9">HTTPS/SSL</text>
            <text x="760" y="322" text-anchor="middle" fill="#f5f5f5" font-size="11" opacity="0.8">Data Encryption</text>
            <text x="760" y="338" text-anchor="middle" fill="#f5f5f5" font-size="11" opacity="0.8">Privacy Protection</text>
            <text x="760" y="354" text-anchor="middle" fill="#f5f5f5" font-size="11" opacity="0.8">Anonymous Sessions</text>

            <!-- Arrows from Backend to Database, AI, and Security -->
            <path d="M 350 185 L 160 260" stroke="rgba(255,255,255,0.4)" stroke-width="2" marker-end="url(#arrowhead)"/>
            <path d="M 450 230 L 475 260" stroke="rgba(255,255,255,0.4)" stroke-width="2" marker-end="url(#arrowhead)"/>
            <path d="M 550 185 L 760 260" stroke="rgba(255,255,255,0.4)" stroke-width="2" marker-end="url(#arrowhead)"/>

            <!-- Monitoring & Logging -->
            <rect x="50" y="400" width="220" height="90" rx="12" fill="url(#grad2)" filter="url(#glow)" opacity="0.9"/>
            <text x="160" y="425" text-anchor="middle" fill="#f5f5f5" font-size="14" font-weight="700">Monitoring</text>
            <text x="160" y="445" text-anchor="middle" fill="#f5f5f5" font-size="12" opacity="0.9">Logging System</text>
            <text x="160" y="462" text-anchor="middle" fill="#f5f5f5" font-size="11" opacity="0.8">Error Tracking</text>
            <text x="160" y="478" text-anchor="middle" fill="#f5f5f5" font-size="11" opacity="0.8">Performance Metrics</text>

            <!-- Deployment -->
            <rect x="350" y="400" width="250" height="90" rx="12" fill="url(#grad1)" filter="url(#glow)" opacity="0.9"/>
            <text x="475" y="425" text-anchor="middle" fill="#f5f5f5" font-size="16" font-weight="700">Deployment</text>
            <text x="475" y="445" text-anchor="middle" fill="#f5f5f5" font-size="13" opacity="0.9">Cloud Platform</text>
            <text x="475" y="462" text-anchor="middle" fill="#f5f5f5" font-size="11" opacity="0.8">Docker Containers</text>
            <text x="475" y="478" text-anchor="middle" fill="#f5f5f5" font-size="11" opacity="0.8">CI/CD Pipeline</text>

            <!-- DevOps -->
            <rect x="650" y="400" width="220" height="90" rx="12" fill="url(#grad2)" filter="url(#glow)" opacity="0.9"/>
            <text x="760" y="425" text-anchor="middle" fill="#f5f5f5" font-size="14" font-weight="700">DevOps</text>
            <text x="760" y="445" text-anchor="middle" fill="#f5f5f5" font-size="12" opacity="0.9">Git Version Control</text>
            <text x="760" y="462" text-anchor="middle" fill="#f5f5f5" font-size="11" opacity="0.8">Automated Testing</text>
            <text x="760" y="478" text-anchor="middle" fill="#f5f5f5" font-size="11" opacity="0.8">Scalable Infrastructure</text>

            <!-- Arrows from Backend to Monitoring, Deployment, and DevOps -->
            <path d="M 350 230 L 160 400" stroke="rgba(255,255,255,0.4)" stroke-width="2" marker-end="url(#arrowhead)"/>
            <path d="M 450 230 L 475 400" stroke="rgba(255,255,255,0.4)" stroke-width="2" marker-end="url(#arrowhead)"/>
            <path d="M 550 230 L 760 400" stroke="rgba(255,255,255,0.4)" stroke-width="2" marker-end="url(#arrowhead)"/>

            <!-- External Services -->
            <rect x="300" y="520" width="400" height="90" rx="12" fill="url(#grad1)" filter="url(#glow)" opacity="0.9"/>
            <text x="500" y="545" text-anchor="middle" fill="#f5f5f5" font-size="16" font-weight="700">External Services</text>
            <text x="500" y="565" text-anchor="middle" fill="#f5f5f5" font-size="13" opacity="0.9">OpenAI API</text>
            <text x="500" y="582" text-anchor="middle" fill="#f5f5f5" font-size="11" opacity="0.8">Third-party Integrations</text>
            <text x="500" y="598" text-anchor="middle" fill="#f5f5f5" font-size="11" opacity="0.8">Cloud Storage Services</text>

            <!-- Arrow from Deployment to External Services -->
            <path d="M 475 490 L 500 520" stroke="rgba(255,255,255,0.4)" stroke-width="2" marker-end="url(#arrowhead)"/>

            <!-- User Flow Indicator -->
            <text x="500" y="650" text-anchor="middle" fill="#f5f5f5" font-size="12" opacity="0.7" font-style="italic">User Request Flow ‚Üí Processing ‚Üí Response</text>
          </svg>
        </div>
      </div>
    </div>
  </section>

  <script>
    // ============================
    // COLORFUL BLUR BACKGROUND EFFECT
    // ============================
    /*
      Animated colorful blobs with blur effect
      - vibrant colors (deep blues, purples, magentas, cyans)
      - smooth movement and blending
      - creates a dreamy blur effect
    */

    const matrixCanvas = document.getElementById("matrixCanvas");
    const matrixCtx = matrixCanvas.getContext("2d");

    let matrixWidth, matrixHeight;
    const particles = [];
    const particleCount = 8;
    
    // Darker vibrant color palette
    const colors = [
      '#6D28D9', // darker purple
      '#BE185D', // darker pink/magenta
      '#0891B2', // darker cyan
      '#2563EB', // darker blue
      '#7C3AED', // darker purple
      '#DC2626', // darker rose/red
      '#059669', // darker emerald
      '#D97706'  // darker amber
    ];

    function resizeMatrix() {
      matrixWidth = matrixCanvas.width = window.innerWidth;
      matrixHeight = matrixCanvas.height = window.innerHeight;
      
      // Reinitialize particles on resize
      if (particles.length === 0) {
        initParticles();
      } else {
        // Adjust existing particles
        particles.forEach(p => {
          p.x = Math.min(p.x, matrixWidth);
          p.y = Math.min(p.y, matrixHeight);
        });
      }
    }

    function initParticles() {
      particles.length = 0;
      for (let i = 0; i < particleCount; i++) {
        particles.push({
          x: Math.random() * matrixWidth,
          y: Math.random() * matrixHeight,
          vx: (Math.random() - 0.5) * 0.5,
          vy: (Math.random() - 0.5) * 0.5,
          radius: 150 + Math.random() * 200,
          color: colors[Math.floor(Math.random() * colors.length)],
          opacity: 0.4 + Math.random() * 0.3
        });
      }
    }

    window.addEventListener("resize", resizeMatrix);
    resizeMatrix();
    if (particles.length === 0) initParticles();

    function drawMatrix(time) {
      const t = time * 0.001;

      // Clear with slight fade for trailing effect
      matrixCtx.fillStyle = "rgba(5, 6, 8, 0.1)";
      matrixCtx.fillRect(0, 0, matrixWidth, matrixHeight);

      // Update and draw particles
      particles.forEach((particle, i) => {
        // Update position with smooth movement
        particle.x += particle.vx;
        particle.y += particle.vy;

        // Add some wave-like movement
        particle.x += Math.sin(t * 0.5 + i) * 0.3;
        particle.y += Math.cos(t * 0.7 + i) * 0.3;

        // Bounce off edges
        if (particle.x < 0 || particle.x > matrixWidth) particle.vx *= -1;
        if (particle.y < 0 || particle.y > matrixHeight) particle.vy *= -1;

        // Keep particles in bounds
        particle.x = Math.max(0, Math.min(matrixWidth, particle.x));
        particle.y = Math.max(0, Math.min(matrixHeight, particle.y));

        // Draw colorful blob with gradient
        const gradient = matrixCtx.createRadialGradient(
          particle.x, particle.y, 0,
          particle.x, particle.y, particle.radius
        );
        
        // Convert hex color to rgb for rgba
        const r = parseInt(particle.color.slice(1, 3), 16);
        const g = parseInt(particle.color.slice(3, 5), 16);
        const b = parseInt(particle.color.slice(5, 7), 16);
        
        gradient.addColorStop(0, `rgba(${r}, ${g}, ${b}, ${particle.opacity})`);
        gradient.addColorStop(0.5, `rgba(${r}, ${g}, ${b}, ${particle.opacity * 0.6})`);
        gradient.addColorStop(1, `rgba(${r}, ${g}, ${b}, 0)`);

        matrixCtx.fillStyle = gradient;
        matrixCtx.beginPath();
        matrixCtx.arc(particle.x, particle.y, particle.radius, 0, Math.PI * 2);
        matrixCtx.fill();
      });

      requestAnimationFrame(drawMatrix);
    }

    requestAnimationFrame(drawMatrix);

    // ============================
    // Canvas ripple / wave effect
    // ============================

    const canvas_h = document.getElementById('hero-canvas');
    const ctx_h = canvas_h.getContext('2d');

    let width_h = window.innerWidth;
    let height_h = window.innerHeight;
    let dpr = window.devicePixelRatio || 1;


    let ripples = [];
    const maxBaseRadius = 220;
    const rippleLifetime = 900; // ms
    const backgroundColor = '#050608';

    function resizeCanvas() {
        width_h = window.innerWidth;
        height_h = window.innerHeight;
        dpr = window.devicePixelRatio || 1;

        canvas_h.width = width_h * dpr;
        canvas_h.height = height_h * dpr;
        canvas_h.style.width = width_h + 'px';
        canvas_h.style.height = height_h + 'px';
        ctx_h.setTransform(dpr, 0, 0, dpr, 0, 0);
    }


    resizeCanvas();
    window.addEventListener('resize', resizeCanvas);

    // Create a ripple on pointer move
    let lastRippleTime = 0;
    const rippleInterval = 70; // ms between new ripples

    window.addEventListener('pointermove', (e) => {
      const now = performance.now();
      if (now - lastRippleTime < rippleInterval) return;
      lastRippleTime = now;

      const rect = canvas_h.getBoundingClientRect();
      const x = e.clientX - rect.left;
      const y = e.clientY - rect.top;

      const maxRadius = maxBaseRadius * (0.6 + Math.random() * 0.6);

      ripples.push({
        x,
        y,
        startTime: now,
        maxRadius,
      });

      // limit number of ripples
      if (ripples.length > 80) {
        ripples.splice(0, ripples.length - 80);
      }
    });

    function draw(time) {
      // Clear canvas with transparent background to show matrix behind
      ctx_h.clearRect(0, 0, width_h, height_h);

      // Draw ripples
      for (let i = ripples.length - 1; i >= 0; i--) {
        const r = ripples[i];
        const elapsed = time - r.startTime;
        if (elapsed > rippleLifetime) {
          ripples.splice(i, 1);
          continue;
        }

        const t = elapsed / rippleLifetime; // 0 ‚Üí 1
        const radius = r.maxRadius * easeOutQuad(t);
        const alpha = (1 - t) * 0.7;

        const gradient = ctx_h.createRadialGradient(
          r.x,
          r.y,
          radius * 0.2,
          r.x,
          r.y,
          radius
        );
        gradient.addColorStop(0, `rgba(255, 255, 255, ${alpha * 0.35})`);
        gradient.addColorStop(0.5, `rgba(120, 200, 255, ${alpha * 0.15})`);
        gradient.addColorStop(1, 'rgba(0, 0, 0, 0)');

        ctx_h.fillStyle = gradient;
        ctx_h.beginPath();
        ctx_h.arc(r.x, r.y, radius, 0, Math.PI * 2);
        ctx_h.fill();
      }

      requestAnimationFrame(draw);
    }

    function easeOutQuad(t) {
      return 1 - (1 - t) * (1 - t);
    }

    requestAnimationFrame(draw);

    // ============================
    // Subtle parallax on hero text
    // ============================

    const parallaxEls = document.querySelectorAll('.hero-parallax');

    window.addEventListener('pointermove', (e) => {
      // Don't apply parallax if first page is fading out
      const firstPage = document.querySelector('.page');
      if (firstPage && firstPage.classList.contains('fade-out')) {
        return;
      }

      const cx = window.innerWidth / 2;
      const cy = window.innerHeight / 2;
      const dx = (e.clientX - cx) / cx;  // -1 ‚Üí 1
      const dy = (e.clientY - cy) / cy;

      const strength = 8; // px

      parallaxEls.forEach((el, idx) => {
        const factor = 1 + idx * 0.2; // slightly different per element
        const tx = -dx * strength * factor;
        const ty = -dy * strength * factor;
        el.style.transform = `translate3d(${tx}px, ${ty}px, 0)`;
      });
    });

    // ============================
    // Smooth page transition animations
    // ============================
    /*
      Fade-out from center animation for page transitions
      Works for all pages - detects scroll and triggers animations
    */

    const firstPage = document.querySelector('.page');
    
    // Threshold for triggering fade (percentage of viewport height scrolled)
    const fadeThreshold = 0.3; // 30% of viewport height

    function handleScrollAnimations() {
      const scrollY = window.scrollY || window.pageYOffset;
      const viewportHeight = window.innerHeight;
      const threshold = viewportHeight * fadeThreshold;

      // Fade out first page when scrolling past threshold
      if (firstPage) {
        if (scrollY > threshold) {
          firstPage.classList.add('fade-out');
        } else {
          firstPage.classList.remove('fade-out');
        }
      }

      // Fade in all scrollable sections (works for .scroll-section and .page-section)
      const allSections = document.querySelectorAll('.scroll-section, .page-section');
      allSections.forEach((section) => {
        const rect = section.getBoundingClientRect();
        const sectionTop = rect.top;
        const sectionVisible = sectionTop < viewportHeight * 0.7;

        if (sectionVisible) {
          section.classList.add('fade-in');
        } else if (scrollY < viewportHeight) {
          // Only remove fade-in if we're back near the top
          section.classList.remove('fade-in');
        }
      });
    }

    // Initial check
    handleScrollAnimations();

    // Throttled scroll handler for performance
    let scrollTimeout;
    window.addEventListener('scroll', () => {
      if (scrollTimeout) {
        cancelAnimationFrame(scrollTimeout);
      }
      scrollTimeout = requestAnimationFrame(handleScrollAnimations);
    }, { passive: true });
  </script>
</body>
</html>